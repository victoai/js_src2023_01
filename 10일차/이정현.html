<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      .main {
        border: 1px solid black;
        width: 1550px;
        margin: 0 auto;
        margin-top: 20px;
        position: relative;
        display: grid;
        grid-template-columns: repeat(15, 1fr);
        grid-template-rows: repeat(11, 100px);

        grid-template-areas:
          " start box1 box1 box1 box1 box1 box1 box1 box1 box16 box2 box2 box2 box2 box2_2 "
          " . . . . . . . . . . . . . . box3 "
          " box4 box4 box4 box4 box4 box4 box4 box4 box4 box4 box4 box4 box4. box5 "
          " box6 . . . . . . . . . . . . . box7 "
          " . . box8 box8 box8 box8 box8 box8 box8 box8 box8 box8 box8 box8 box8 "
          " . box9 . . . . . . . . . . . . . "
          " . . . box10 box10 box10 box10 box10 box10 box10 box10 box10 box10 box10 . "
          " box11 box11 box11 . . . . . . . . . . . . "
          " box17 box13 box13 . box12 box12 box12 box12 box12 box12 box12 box12 box12 box12 box12 "
          " . . . . . . . . . . . . . . . "
          " box14 box14 box14 box14 box14 box14 box14 box14 box14 box14 box14 box14 finish box15 box15 ";
      }

      .box {
        /* border: 1px solid red; */
        height: 100px;
        margin: 0;
        padding: 0;
        /* background-color: gray; */
      }

      #start {
        grid-area: start;
        text-align: center;
        margin-top: 30px;
        color: red;
        font-size: 20px;
        font-weight: bold;
      }

      #finish {
        grid-area: finish;
        text-align: center;
        margin-top: 30px;
        color: red;
        font-size: 20px;
        font-weight: bold;
      }

      .box1 {
        grid-area: box1;
        background-color: gray;
      }
      .box2 {
        grid-area: box2;
        background-color: gray;
      }

      .box2_2 {
        /* border: 1px solid red; */
        grid-area: box2_2;
        background-color: whitesmoke;
        display: grid;
        grid-template-areas:
          " restart up . "
          " left down right ";
      }

      #restart{
        grid-area: restart;
        display: none;
        color: rgba(255, 0, 0, 0.11);
        background-color: whitesmoke;
        border: 0.5px solid rgba(238, 230, 230, 0.096);
        outline: 1px solid rgba(238, 230, 230, 0.096);
        z-index: 1;
      }
      #restart:hover{
        cursor: pointer;
      }

      #up {
        grid-area: up;
      }
      #left {
        grid-area: left;
      }
      #right {
        grid-area: right;
      }
      #down {
        grid-area: down;
      }
      button {
        width: 50px;
        height: 50px;
      }

      .box3 {
        grid-area: box3;
        background-color: gray;
      }
      .box4 {
        grid-area: box4;
        background-color: gray;
      }
      .box5 {
        grid-area: box5;
        background-color: gray;
      }
      .box6 {
        grid-area: box6;
        background-color: gray;
      }
      .box7 {
        grid-area: box7;
        background-color: gray;
      }
      .box8 {
        grid-area: box8;
        background-color: gray;
      }
      .box9 {
        grid-area: box9;
        background-color: gray;
      }
      .box10 {
        grid-area: box10;
        background-color: gray;
      }
      .box11 {
        grid-area: box11;
        background-color: gray;
      }
      .box12 {
        grid-area: box12;
        background-color: gray;
      }
      .box13 {
        grid-area: box13;
        background-color: gray;
      }
      .box14 {
        grid-area: box14;
        background-color: gray;
      }
      .box15 {
        grid-area: box15;
        background-color: gray;
      }

      .box16 {
        grid-area: box16;
        background-image: url(images/png-transparent-cylinder-yellow-treasure-chest-yellow-and-brown-chest-illustration-piracy-treasure-buried-treasure.png);
        background-size: cover;
        background-position: center;
      }
      .box17 {
        grid-area: box17;
        background-image: url(images/png-transparent-cylinder-yellow-treasure-chest-yellow-and-brown-chest-illustration-piracy-treasure-buried-treasure.png);
        background-size: cover;
        background-position: center;
      }

      #box18 {
        width: 50px;
        height: 50px;
        background-image: url(images/12856db09720692cf725a41251e754bcd05c10bbac7b3343e25396a8acf7997dea06bfe981695a056bcbc6d927b6430fd74070476bfd3f9c13724929aff71f2ea8ccc808090c75a5d3f73a5ef618d416.png);
        background-size: cover;
        background-position: center;
        position: absolute;
        left: 0px;
        top: 0px;
        border: 0.5px solid rgba(128, 128, 128, 0.267);
        border-radius: 30%;
      }

      #box19{
        width: 20px;
        height: 20px;
        background-color: red;
        position: absolute;
        left: 100px;
        top: 0px;
        border-radius: 50%;
        animation: anima1 8s infinite normal linear;
      }

      @keyframes anima1{
        0%{left: 100px; top: 0px;}
        100%{left: 100px; top:1080px}
      }
    </style>

    <script>
      /*
      setInterval(
        function moving(move1, move2){
        
          let box18 = document.getElementById("box18");
          let box19 = document.getElementById("box19");
          // console.log(box19 .getBoundingClientRect());
          if(move1 <=155 && move1 >= 95 && move2 <= 115 && move2 >= 50 && box19.getBoundingClientRect()==box18.getBoundingClientRect()){
            console.log(box19)
            console.log(box18)
          }

          // alert("풋")

        },10
      );

      */

       setInterval(  function(){
        console.log("dkjfkfk");
        console.log("setinterval" + move1);
        console.log("setinterval" + move2);
          let box18 = document.getElementById("box18");
          let box19 = document.getElementById("box19");
          
          console.log(  box19.getBoundingClientRect());
          console.log (  box18.getBoundingClientRect());
 

       } , 1000);

      let dontmove = false;

      function movestop(move1, move2){
        let restart = document.getElementById("restart")
        dontmove = true;

        if (move1 <= 95 && move1 >= -50 && move2 <= 990 && move2 >= 860) {
          changeImg();
          alert("die");
          alert("다시 시작하세요");
        } 
        else if(move1 <= 1095 && move1 >= 955 && move2 <= 1290 && move2 >= 1160){
            alert("congratulations");
        }
        else if(move1 <= 95 && move1 >= -50 && move2 <= 860 && move2 >= 60){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 95 && move1 >= -50 && move2 <= 1545 && move2 >= 990){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 295 && move1 >= 155 && move2 <= 1290 && move2 >= -45){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 495 && move1 >= 95 && move2 <= 1545 && move2 >= 1360){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 395 && move1 >= 295 && move2 <= 90 && move2 >= -45){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 495 && move1 >= 355 && move2 <= 1360 && move2 >= 160){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 595 && move1 >= 455 && move2 <= 195 && move2 >= 60){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 695 && move1 >= 555 && move2 <= 1395 && move2 >= 260){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 795 && move1 >= 655 && move2 <= 295 && move2 >= -45){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 895 && move1 >= 795 && move2 <= 295 && move2 >= 60){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 895 && move1 >= 755 && move2 <= 1545 && move2 >= 360){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 1095 && move1 >= 955 && move2 <= 1190 && move2 >= -45){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else if(move1 <= 1095 && move1 >= 955 && move2 <= 1545 && move2 >= 1260){
            alert(" 닿았다!!");
            alert("다시 시작하세요");
        }
        else{
          dontmove = false
        }

        if(dontmove == true){
          restart.style.display = "inline-block"
          restart.focus();
          restart.style.transform = "scale(4) translate(-170px, 100px)"
          restart.style.transition = "2s"
        }

      } 

      let treasure =true;
      function Treasure_Hunter(move1, move2){
      if (move1 <= 895 && move1 >= 750 && move2 <= 90 && move2 >= -45 && treasure == true) {
          changeImg2();
          alert("wow!! 보물이다!!");
          treasure = false;
        }
      }


      let move1 ;
      let move2;

      function moveUp() {
        if(dontmove == false){
          let box = document.getElementById("box18");       
          move1 = parseInt(box.style.top.substring(0, box.style.top.length - 2)) - 5;
          move2 = parseInt(box.style.left.substring(0, box.style.left.length - 2)
        );


        console.log ( move1);
        console.log ( move2);

        if (isNaN(move1)) {
          box.style.top = "-5px";
        }
        if (isNaN(move2)) {
          box.style.left = "0px";
        }
        box.style.top = move1.toString() + "px";
        console.log(box.style.top);


        movestop(move1, move2);
        Treasure_Hunter(move1, move2);

        }
      }






      function moveLeft() {
        if(dontmove==false){
          let box = document.getElementById("box18");
          move2 =
          parseInt(box.style.left.substring(0, box.style.left.length - 2)) - 5;
          move1 = parseInt(
          box.style.top.substring(0, box.style.top.length - 2)
        );
        if (isNaN(move2)) {
          //
          box.style.left = "-5px";
        }
        if (isNaN(move1)) {
          box.style.top = "0px";
        }
        box.style.left = move2.toString() + "px";
        console.log(box.style.left);

        movestop(move1, move2);
        Treasure_Hunter(move1, move2);
        }
      }
      function moveRight() {
        if(dontmove==false){
          let box = document.getElementById("box18");
         move2 =
          parseInt(box.style.left.substring(0, box.style.left.length - 2)) + 5;
         move1 = parseInt(
          box.style.top.substring(0, box.style.top.length - 2)
        );
        if (isNaN(move2)) {
          //
          box.style.left = "5px";
        }
        if (isNaN(move1)) {
          box.style.top = "0px";
        }
        box.style.left = move2.toString() + "px";
        console.log(box.style.left);

        movestop(move1, move2);
        Treasure_Hunter(move1, move2);
        }
      }
      function moveDown() {
        if(dontmove==false){
          let box = document.getElementById("box18");
         move1 =
          parseInt(box.style.top.substring(0, box.style.top.length - 2)) + 5;
          move2 = parseInt(
          box.style.left.substring(0, box.style.left.length - 2)
        );
        if (isNaN(move1)) {
          box.style.top = "5px";
        }
        if (isNaN(move2)) {
          box.style.left = "0px";
        }
        box.style.top = move1.toString() + "px";
        console.log(box.style.top);

        movestop(move1, move2);
        Treasure_Hunter(move1, move2);
        }
      }

      function changeImg() {
        let img = document.querySelector(".box16");
        img.style.background =
          "url(images/png-transparent-bomb-explosion-nuclear-weapon-bomb-weapon-time-bomb-ticking-time-bomb-scenario-thumbnail.png)";
        img.style.backgroundPosition = "center";
        img.style.backgroundSize = "cover";
        img.style.transform = "scale(9) translate(-20px, 45px)";
        img.style.transition = "2s"
      }

      function changeImg2() {
        let img = document.querySelector(".box17");
        img.style.background =
          "url(images/Wooden-Treasure-Chest-PNG-Photo-Image.png)";
        img.style.backgroundPosition = "center";
        img.style.backgroundSize = "cover";
        img.animate([
          {
            transform : 'translate(0px, 0px) scale(1)'
          },
          {
            transform : 'translate(700px, -400px) scale(6)'
          },
          {
            transform : 'translate(0px, 0px) scale(1)'
          }
        ], 5000)
      }

      document.addEventListener("keydown", (event) => {
        switch (event.key) {
          case "ArrowUp":
            event.preventDefault();
            moveUp();
            break;
          case "ArrowLeft":
            event.preventDefault();
            moveLeft();
            break;
          case "ArrowRight":
            event.preventDefault();
            moveRight();
            break;
          case "ArrowDown":
            event.preventDefault();
            moveDown();
            break;
        }
      });
    </script>
  </head>
  <body>
    <section>
      <div class="main">
        <div class="box box1"></div>
        <div class="box box2"></div>

        <div class="box box2_2">
          <button id="restart" onclick="window.location.reload()">restart</button>
          <button id="up" onclick="moveUp()">up</button>
          <button id="left" onclick="moveLeft()">left</button>
          <button id="right" onclick="moveRight()">right</button>
          <button id="down" onclick="moveDown()">down</button>
        </div>

        <div class="box box3"></div>
        <div class="box box4"></div>
        <div class="box box5"></div>
        <div class="box box6"></div>
        <div class="box box7"></div>
        <div class="box box8"></div>
        <div class="box box9"></div>
        <div class="box box10"></div>
        <div class="box box11"></div>
        <div class="box box12"></div>
        <div class="box box13"></div>
        <div class="box box14"></div>
        <div class="box box15"></div>

        <div class="box box16"></div>
        <div class="box box17"></div>

        <div id="box18"></div>

        <div class="box" id="start">시작</div>
        <div class="box" id="finish">도착</div>

        <div id="box19"></div>
        <div class="box20"></div>
      </div>
    </section>
  </body>
</html>
